-- POPULANDO TABELA TL_PLANO

CREATE TABLE TL_PLANO (
  ID_PLANO NUMBER(10) PRIMARY KEY,
  NM_PLANO VARCHAR2(80) NOT NULL,
  VL_PLANO NUMBER(18,2) NOT NULL
);

-- Código para popular a tabela TL_PLANO com 3 planos de serviço, atualizando os registros caso já existam
BEGIN
  MERGE INTO TL_PLANO tabela
  USING (
    SELECT 1 AS ID_PLANO, 'gratuito' AS NM_PLANO, 0 AS VL_PLANO FROM DUAL UNION ALL
    SELECT 2 AS ID_PLANO, 'premium' AS NM_PLANO, 100 AS VL_PLANO FROM DUAL UNION ALL
    SELECT 3 AS ID_PLANO, 'TOP' AS NM_PLANO, 200 AS VL_PLANO FROM DUAL
  ) dados
  ON (tabela.ID_PLANO = dados.ID_PLANO)
  WHEN MATCHED THEN
    UPDATE SET tabela.NM_PLANO = dados.NM_PLANO, tabela.VL_PLANO = dados.VL_PLANO
  WHEN NOT MATCHED THEN
    INSERT (ID_PLANO, NM_PLANO, VL_PLANO) VALUES (dados.ID_PLANO, dados.NM_PLANO, dados.VL_PLANO);
  
  COMMIT;
END;