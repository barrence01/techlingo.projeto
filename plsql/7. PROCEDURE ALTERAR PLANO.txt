-- [Atribuição de planos de assinatura]
-- Esta procedure recebe 2 parametros, o id do aluno e o id do plano novo
-- A procedure selecionará o aluno pelo id e alterará seu plano conforme especionado

CREATE OR REPLACE PROCEDURE ATUALIZAR_PLANO_ALUNO (
    P_ID_ALUNO IN TL_ALUNO.ID_ALUNO%TYPE,
    P_FK_ID_PLANO IN TL_PLANO.ID_PLANO%TYPE
)
AS
BEGIN
    UPDATE TL_ALUNO
    SET FK_ID_PLANO = P_FK_ID_PLANO
    WHERE ID_ALUNO = P_ID_ALUNO;
    
    COMMIT;
END;